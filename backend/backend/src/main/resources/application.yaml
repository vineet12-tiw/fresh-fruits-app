spring:
  application:
    name: backend

  # ==============================================================
  # 1. DATABASE CONFIGURATION (PostgreSQL)
  # ==============================================================
#  datasource:
#    url: jdbc:postgresql://localhost:5432/freshfruits
#    username: postgres
#    password: your_password_here  # CHANGE THIS
#    driver-class-name: org.postgresql.Driver

    # ==============================================================
    # 1. DATABASE CONFIGURATION (MySQL)
    # ==============================================================
  datasource:
      # 'createDatabaseIfNotExist=true' will create the DB for you automatically!
    url: ${DB_URL}
    username: ${DB_USERNAME}        # Default XAMPP/MySQL username
    password: ${DB_PASSWORD} # Default is often empty "" or "root"


    # ==============================================================
    # 2. JPA / HIBERNATE (MySQL Dialect)
    # ==============================================================
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        format_sql: true

  # ==============================================================
  # 2. JPA / HIBERNATE (Table Management)
  # ==============================================================
#  jpa:
#    hibernate:
#      ddl-auto: update # Keeps data, updates schema. Use 'create-drop' to reset.
#    show-sql: true
#    properties:
#      hibernate:
#        format_sql: true
#        dialect: org.hibernate.dialect.PostgreSQLDialect

  # ==============================================================
  # 3. SPRING AI (The Agent Brain)
  # ==============================================================
  ai:
    openai:
      api-key:  # Reads from ENV, defaults to hardcoded
      chat:
        options:
          model: gpt-3.5-turbo
          # CRITICAL: This auto-enables your Java @Beans as Tools
          functions:
            - checkOrderStatus
            - initiateRefund

  # ==============================================================
  # 4. FILE UPLOAD LIMITS (For future fruit images)
  # ==============================================================
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

# ==============================================================
# 5. SERVER CONFIGURATION
# ==============================================================
server:
  port: 8080

# ==============================================================
# 6. CUSTOM SECURITY PROPS (JWT)
# ==============================================================
app:
  jwt:
    secret: YourSuperSecretKeyForFreshFruitsApp1234567890 # Must be 32+ chars
    expiration: 86400000 # 24 Hours in milliseconds
